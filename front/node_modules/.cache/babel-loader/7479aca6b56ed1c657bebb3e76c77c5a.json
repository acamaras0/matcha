{"ast":null,"code":"var _jsxFileName = \"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ProfileRandom.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable */\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../context/UserContext\";\nimport axios from \"axios\";\nimport useGetDistance from \"../utils/useGetDistance\";\nimport StarRating from \"../models/StarRating\";\nimport Gallery from \"../models/Gallery\";\nimport { useCookies } from \"react-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfileRandom = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const {\n    selectedUser,\n    setSelectedUser\n  } = useContext(UserContext);\n  const [pics, setPics] = useState([]);\n  const [likes, setLikes] = useState(\"\");\n  const [loggedIn, setLoggedIn] = useState(\"\");\n  const history = useHistory();\n  const distance = useGetDistance();\n  const [cookie, setCookie] = useCookies([\"refreshToken\"]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/users/${id}`);\n        setSelectedUser(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    fetchData();\n\n    const getPicPath = async () => {\n      const response = await axios.get(`http://localhost:5000/user/pictures/${id}`, {});\n      setPics(response.data);\n    };\n\n    getPicPath();\n\n    const getLoggedIn = async () => {\n      const response = await axios.get(`http://localhost:5000/user/${cookie.refreshToken}`, {});\n      setLoggedIn(response.data.id);\n    };\n\n    getLoggedIn();\n\n    const count = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/user/fame/${id}`);\n        setLikes(response);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    count();\n  }, [id, setSelectedUser, setLikes]);\n\n  const block = async id => {\n    try {\n      await axios.post(`http://localhost:5000/block/${loggedIn}/${id}`, {});\n      history.push(\"/dashboard\");\n    } catch (error) {\n      console.log(error);\n    }\n  }; // var location = { ...distance };\n  // if (location[id - 1]) {\n  //   var getDistance = location[id - 1].distance / 1000;\n  // }\n\n\n  if (!cookie.refreshToken) {\n    history.push(\"/\");\n  }\n\n  if (!selectedUser && !distance) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center\",\n          children: [selectedUser.firstname, \" \", selectedUser.lastname]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StarRating, {\n          rating: likes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-profile\",\n          children: [/*#__PURE__*/_jsxDEV(Gallery, {\n            galleryImages: pics\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Age\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: selectedUser.birthdate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Bio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: selectedUser.bio\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Gender\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: selectedUser.gender\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Interests\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: selectedUser.interests\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => block(selectedUser.id),\n          className: \"btn btn-danger\",\n          children: \"Block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(ProfileRandom, \"poigmA6kHPpcgvyH3D+SWrUHq10=\", false, function () {\n  return [useParams, useHistory, useGetDistance, useCookies];\n});\n\n_c = ProfileRandom;\nexport default ProfileRandom;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileRandom\");","map":{"version":3,"sources":["/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ProfileRandom.js"],"names":["React","useContext","useEffect","useState","useParams","useHistory","UserContext","axios","useGetDistance","StarRating","Gallery","useCookies","ProfileRandom","id","selectedUser","setSelectedUser","pics","setPics","likes","setLikes","loggedIn","setLoggedIn","history","distance","cookie","setCookie","fetchData","response","get","data","error","console","log","getPicPath","getLoggedIn","refreshToken","count","block","post","push","firstname","lastname","birthdate","bio","gender","interests"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../context/UserContext\";\nimport axios from \"axios\";\nimport useGetDistance from \"../utils/useGetDistance\";\nimport StarRating from \"../models/StarRating\";\nimport Gallery from \"../models/Gallery\";\nimport { useCookies } from \"react-cookie\";\n\nconst ProfileRandom = () => {\n  const { id } = useParams();\n  const { selectedUser, setSelectedUser } = useContext(UserContext);\n  const [pics, setPics] = useState([]);\n  const [likes, setLikes] = useState(\"\");\n  const [loggedIn, setLoggedIn] = useState(\"\");\n  const history = useHistory();\n  const distance = useGetDistance();\n  const [cookie, setCookie] = useCookies([\"refreshToken\"]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/users/${id}`);\n        setSelectedUser(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchData();\n\n    const getPicPath = async () => {\n      const response = await axios.get(\n        `http://localhost:5000/user/pictures/${id}`,\n        {}\n      );\n      setPics(response.data);\n    };\n    getPicPath();\n\n    const getLoggedIn = async () => {\n      const response = await axios.get(\n        `http://localhost:5000/user/${cookie.refreshToken}`,\n        {}\n      );\n      setLoggedIn(response.data.id);\n    };\n    getLoggedIn();\n\n    const count = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/user/fame/${id}`);\n        setLikes(response);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    count();\n  }, [id, setSelectedUser, setLikes]);\n\n  const block = async (id) => {\n    try {\n      await axios.post(`http://localhost:5000/block/${loggedIn}/${id}`, {});\n      history.push(\"/dashboard\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // var location = { ...distance };\n  // if (location[id - 1]) {\n  //   var getDistance = location[id - 1].distance / 1000;\n  // }\n\n  if (!cookie.refreshToken) {\n    history.push(\"/\");\n  }\n  if (!selectedUser && !distance) {\n    return <div>Loading...</div>;\n  } else {\n    return (\n      <div>\n        <div className=\"text-center\">\n          <h2 className=\"text-center\">\n            {selectedUser.firstname} {selectedUser.lastname}\n          </h2>\n          <StarRating rating={likes} />\n          <div className=\"card-profile\">\n            <Gallery galleryImages={pics} />\n            <div className=\"card-body\">\n              {/* <p className=\"card-text\">{distance && distance[0].distance} km away</p> */}\n              <label>Age</label>\n              <p className=\"card-text\">{selectedUser.birthdate}</p>\n              <label>Bio</label>\n              <p className=\"card-text\">{selectedUser.bio}</p>\n              <label>Gender</label>\n              <p className=\"card-text\">{selectedUser.gender}</p>\n              <label>Interests</label>\n              <p className=\"card-text\">{selectedUser.interests}</p>\n            </div>\n          </div>{\" \"}\n          <br />\n          <button\n            onClick={() => block(selectedUser.id)}\n            className=\"btn btn-danger\"\n          >\n            Block\n          </button>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default ProfileRandom;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import axios from 'axios';\nconst initialState = {\n  id: null,\n  username: '',\n  token: '',\n  loginStatus: false\n};\n\nconst userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      const {\n        id,\n        username,\n        token\n      } = action.data;\n      return {\n        id,\n        username,\n        token,\n        loginStatus: true\n      };\n\n    case 'LOGOUT':\n      return initialState;\n\n    default:\n      return state;\n  }\n};\n\nexport const login = (username, password) => {\n  return async dispatch => {\n    let response;\n\n    try {\n      response = await axios.post('http://localhost:3001/api/login/', {\n        username,\n        password\n      });\n    } catch (error) {\n      throw error;\n    }\n\n    dispatch({\n      type: 'LOGIN',\n      data: response.data\n    });\n  };\n};\nexport default userReducer;","map":{"version":3,"sources":["/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/client/src/reducers/userReducer.js"],"names":["axios","initialState","id","username","token","loginStatus","userReducer","state","action","type","data","login","password","dispatch","response","post","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,EAAE,EAAE,IADa;AAEjBC,EAAAA,QAAQ,EAAE,EAFO;AAGjBC,EAAAA,KAAK,EAAE,EAHU;AAIjBC,EAAAA,WAAW,EAAE;AAJI,CAArB;;AAOA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AAClD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,OAAL;AACA,YAAM;AAACP,QAAAA,EAAD;AAAKC,QAAAA,QAAL;AAAeC,QAAAA;AAAf,UAAwBI,MAAM,CAACE,IAArC;AACI,aAAO;AAACR,QAAAA,EAAD;AAAKC,QAAAA,QAAL;AAAeC,QAAAA,KAAf;AAAsBC,QAAAA,WAAW,EAAE;AAAnC,OAAP;;AACJ,SAAK,QAAL;AACI,aAAOJ,YAAP;;AACJ;AAAS,aAAOM,KAAP;AANb;AAQH,CATD;;AAWA,OAAO,MAAMI,KAAK,GAAG,CAACR,QAAD,EAAWS,QAAX,KAAwB;AACzC,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAIC,QAAJ;;AACA,QAAI;AACAA,MAAAA,QAAQ,GAAG,MAAMd,KAAK,CACjBe,IADY,CACP,kCADO,EAC6B;AAACZ,QAAAA,QAAD;AAAWS,QAAAA;AAAX,OAD7B,CAAjB;AAEH,KAHD,CAGE,OAAOI,KAAP,EAAc;AAAC,YAAMA,KAAN;AAAY;;AAC7BH,IAAAA,QAAQ,CAAC;AAACJ,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,IAAI,EAAEI,QAAQ,CAACJ;AAA/B,KAAD,CAAR;AACH,GAPD;AAQH,CATM;AAWP,eAAeJ,WAAf","sourcesContent":["import axios from 'axios';\n\nconst initialState = {\n    id: null,\n    username: '',\n    token: '',\n    loginStatus: false\n}\n\nconst userReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'LOGIN':\n        const {id, username, token} = action.data\n            return {id, username, token, loginStatus: true}\n        case 'LOGOUT':\n            return initialState;\n        default: return state;\n    }\n}\n\nexport const login = (username, password) => {\n    return async dispatch => {\n        let response;\n        try {\n            response = await axios\n                .post('http://localhost:3001/api/login/', {username, password})\n        } catch (error) {throw error}\n        dispatch({type: 'LOGIN', data: response.data})\n    }\n}\n\nexport default userReducer;"]},"metadata":{},"sourceType":"module"}
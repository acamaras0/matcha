[{"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/index.js":"1","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/App.js":"2","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Register.js":"3","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Navbar.js":"4","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Dashboard.js":"5","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ProfileForm.js":"6","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Login.js":"7","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ForgotPassword.js":"8","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Gender.js":"9","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Tags.js":"10","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Orientation.js":"11","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Cities.js":"12","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/PicturesForm.js":"13","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/context/UserContext.js":"14","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Profile.js":"15","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/StarRating.js":"16","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Age.js":"17","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ProfileRandom.js":"18","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Footer.js":"19","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ResetPassword.js":"20"},{"size":404,"mtime":1660736771521,"results":"21","hashOfConfig":"22"},{"size":3648,"mtime":1661350069641,"results":"23","hashOfConfig":"22"},{"size":3792,"mtime":1661345617545,"results":"24","hashOfConfig":"22"},{"size":1886,"mtime":1661350812363,"results":"25","hashOfConfig":"22"},{"size":3905,"mtime":1661350312223,"results":"26","hashOfConfig":"22"},{"size":4423,"mtime":1661181348722,"results":"27","hashOfConfig":"22"},{"size":2279,"mtime":1660818874434,"results":"28","hashOfConfig":"22"},{"size":1679,"mtime":1661240792961,"results":"29","hashOfConfig":"22"},{"size":855,"mtime":1660047843084,"results":"30","hashOfConfig":"22"},{"size":1263,"mtime":1660047843084,"results":"31","hashOfConfig":"22"},{"size":627,"mtime":1660047843084,"results":"32","hashOfConfig":"22"},{"size":1127,"mtime":1661156120045,"results":"33","hashOfConfig":"22"},{"size":1416,"mtime":1661157499795,"results":"34","hashOfConfig":"22"},{"size":626,"mtime":1661168507379,"results":"35","hashOfConfig":"22"},{"size":7308,"mtime":1661353896738,"results":"36","hashOfConfig":"22"},{"size":544,"mtime":1660919406559,"results":"37","hashOfConfig":"22"},{"size":3139,"mtime":1661154050171,"results":"38","hashOfConfig":"22"},{"size":3083,"mtime":1661179716491,"results":"39","hashOfConfig":"22"},{"size":244,"mtime":1661177714293,"results":"40","hashOfConfig":"22"},{"size":2223,"mtime":1661245988515,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"18gktxc",{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"44"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"44"},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/index.js",[],["85","86"],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/App.js",["87"],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Register.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Navbar.js",["88"],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Dashboard.js",["89"],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ProfileForm.js",["90"],"import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport Gender from \"../models/Gender\";\nimport Tags from \"../models/Tags\";\nimport Cities from \"../models/Cities\";\nimport Age from \"../models/Age\";\nimport Orientation from \"../models/Orientation\";\nimport jwt_decode from \"jwt-decode\";\nimport \"../App.css\";\n\nconst ProfileForm = () => {\n  const [loggedIn, setLoggedin] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [orientation, setOrientation] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [interests, setInterests] = useState([]);\n  const [bio, setBio] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const history = useHistory();\n  const [token, setToken] = useState(\"\");\n  const [expire, setExpire] = useState(\"\");\n\n  useEffect(() => {\n    refreshToken();\n    getLoggedIn();\n  }, []);\n\n  const refreshToken = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:5000/token\");\n      setToken(response.data.accessToken);\n      const decoded = jwt_decode(response.data.accessToken);\n      setExpire(decoded.exp);\n    } catch (error) {\n      if (error.response) {\n        history.push(\"/\");\n      }\n    }\n  };\n\n  const axiosJWT = axios.create();\n\n  axiosJWT.interceptors.request.use(\n    async (config) => {\n      const currentDate = new Date();\n      if (expire * 1000 < currentDate.getTime()) {\n        const response = await axios.get(\"http://localhost:5000/token\");\n        config.headers.Authorization = `Bearer ${response.data.accessToken}`;\n        setToken(response.data.accessToken);\n        const decoded = jwt_decode(response.data.accessToken);\n        setExpire(decoded.exp);\n      }\n      return config;\n    },\n    (error) => {\n      return Promise.reject(error);\n    }\n  );\n\n  const getLoggedIn = async () => {\n    try {\n      const response = await axiosJWT.get(\"http://localhost:5000/users\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setLoggedin(response.data);\n    } catch (error) {\n      if (error.response) {\n        history.push(\"/\");\n      }\n    }\n  };\n\n  const profileFill = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.post(`http://localhost:5000/fill`, {\n        birthdate: age,\n        gender: gender,\n        orientation: orientation,\n        city: city,\n        interests: interests,\n        bio: bio,\n      });\n      history.push(\"/pictures\");\n    } catch (error) {\n      if (error.response) {\n        setMessage(error.response.data.msg);\n      }\n    }\n  };\n\n  if (loggedIn && loggedIn.birthdate) {\n    return (\n      <Redirect to=\"/profile\" />\n    );\n  }\n  return (\n    <div>\n      <div className=\"Auth-form-container\">\n        <form className=\"Auth-form\" onSubmit={profileFill}>\n          <div className=\"Auth-form-content\">\n            <h3 className=\"Auth-form-title\">Complete profile</h3>\n            <div className=\"form-group mt-3\">\n              <div className=\"form-group mt-3\">\n                <label>Age</label>\n                <Age setAge={setAge} />\n              </div>\n              <br />\n              <label>Gender</label>\n              <Gender setGender={setGender} />\n              <br />\n              <label>Sexual orientation</label>\n              <Orientation setOrientation={setOrientation} />\n              <br />\n              <label>City</label>\n              <Cities setCity={setCity} />\n              <br />\n              <label>Interests</label>\n              <div className=\"form-group mt-3\">\n                <Tags setInterests={setInterests} />\n              </div>\n              <br />\n              <label>Bio</label>\n              <div className=\"form-group mt-3\">\n                <input\n                  className=\"form-control mt-1\"\n                  type=\"text\"\n                  onChange={(e) => {\n                    setBio(e.target.value);\n                  }}\n                />\n              </div>\n              <div className=\"d-grid gap-2 mt-3\">\n                <button className=\"btn btn-outline-warning\">Submit</button>\n                <a href=\"http://localhost:3000/dashboard\"> Skip</a>\n              </div>\n            </div>\n            <p className=\"message\">{message}</p>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileForm;\n","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Login.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ForgotPassword.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Gender.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Tags.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Orientation.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Cities.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/PicturesForm.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/context/UserContext.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Profile.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/StarRating.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Age.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ProfileRandom.js",["91","92","93","94"],"import React, { useContext, useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../context/UserContext\";\nimport jwt_decode from \"jwt-decode\";\nimport axios from \"axios\";\nimport StarRating from \"../models/StarRating\";\nimport Footer from \"../models/Footer\";\n\nconst ProfileRandom = () => {\n  const { id } = useParams();\n  const { selectedUser, setSelectedUser } = useContext(UserContext);\n  const [token, setToken] = useState(\"\");\n  const [expire, setExpire] = useState(\"\");\n  const history = useHistory();\n\n  useEffect(() => {\n    refreshToken();\n\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/users/${id}`);\n        setSelectedUser(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  const refreshToken = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:5000/token\");\n      setToken(response.data.accessToken);\n      const decoded = jwt_decode(response.data.accessToken);\n      setExpire(decoded.exp);\n    } catch (error) {\n      if (error.response) {\n        history.push(\"/\");\n      }\n    }\n  };\n\n  //   const axiosJWT = axios.create();\n\n  //   axiosJWT.interceptors.request.use(\n  //     async (config) => {\n  //       const currentDate = new Date();\n  //       if (expire * 1000 < currentDate.getTime()) {\n  //         const response = await axios.get(\"http://localhost:5000/token\");\n  //         config.headers.Authorization = `Bearer ${response.data.accessToken}`;\n  //         setToken(response.data.accessToken);\n  //         const decoded = jwt_decode(response.data.accessToken);\n  //         setExpire(decoded.exp);\n  //       }\n  //       return config;\n  //     },\n  //     (error) => {\n  //       return Promise.reject(error);\n  //     }\n  //   );\n\n  if (!selectedUser) {\n    return <div>Loading...</div>;\n  } else {\n    return (\n      <div>\n        <div className=\"text-center\">\n          <h2 className=\"text-center\">\n            {selectedUser.firstname} {selectedUser.lastname}\n          </h2>\n          <StarRating rating={5} />\n          <div className=\"card-profile\">\n            <img\n              className=\"card-img-top\"\n              src={selectedUser.profile_pic}\n              alt=\"Card cap\"\n            />\n            <div className=\"card-body\">\n              <h5 className=\"card-title\">{selectedUser.username}</h5>\n              <label>Age</label>\n              <p className=\"card-text\">{selectedUser.birthdate}</p>\n              <label>Bio</label>\n              <p className=\"card-text\">{selectedUser.bio}</p>\n              <label>Gender</label>\n              <p className=\"card-text\">{selectedUser.gender}</p>\n              <label>Location</label>\n              <p className=\"card-text\">{selectedUser.city}</p>\n              <label>Interests</label>\n              <p className=\"card-text\">{selectedUser.interests}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default ProfileRandom;\n","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Footer.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ResetPassword.js",[],{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","severity":1,"message":"100","line":1,"column":40,"nodeType":"101","messageId":"102","endLine":1,"endColumn":48},{"ruleId":"99","severity":1,"message":"103","line":22,"column":9,"nodeType":"101","messageId":"102","endLine":22,"endColumn":17},{"ruleId":"99","severity":1,"message":"104","line":13,"column":10,"nodeType":"101","messageId":"102","endLine":13,"endColumn":14},{"ruleId":"105","severity":1,"message":"106","line":28,"column":6,"nodeType":"107","endLine":28,"endColumn":8,"suggestions":"108"},{"ruleId":"99","severity":1,"message":"109","line":7,"column":8,"nodeType":"101","messageId":"102","endLine":7,"endColumn":14},{"ruleId":"99","severity":1,"message":"110","line":12,"column":10,"nodeType":"101","messageId":"102","endLine":12,"endColumn":15},{"ruleId":"99","severity":1,"message":"111","line":13,"column":10,"nodeType":"101","messageId":"102","endLine":13,"endColumn":16},{"ruleId":"105","severity":1,"message":"112","line":28,"column":6,"nodeType":"107","endLine":28,"endColumn":8,"suggestions":"113"},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'Settings' is assigned a value but never used.","'pics' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getLoggedIn' and 'refreshToken'. Either include them or remove the dependency array.","ArrayExpression",["116"],"'Footer' is defined but never used.","'token' is assigned a value but never used.","'expire' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'id', 'refreshToken', and 'setSelectedUser'. Either include them or remove the dependency array.",["117"],"no-global-assign","no-unsafe-negation",{"desc":"118","fix":"119"},{"desc":"120","fix":"121"},"Update the dependencies array to be: [getLoggedIn, refreshToken]",{"range":"122","text":"123"},"Update the dependencies array to be: [id, refreshToken, setSelectedUser]",{"range":"124","text":"125"},[959,961],"[getLoggedIn, refreshToken]",[872,874],"[id, refreshToken, setSelectedUser]"]
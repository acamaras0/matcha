{"ast":null,"code":"var _jsxFileName = \"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/client/src/components/MainPage/Profile/Blocked/Blocked.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport BlockIcon from '@material-ui/icons/Block';\nimport DeleteIcon from '@material-ui/icons/Delete';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    maxWidth: 752\n  },\n  title: {\n    margin: theme.spacing(4, 0, 2)\n  }\n}));\n\nconst Blocked = () => {\n  const classes = useStyles();\n  const {\n    user: currentUser\n  } = useSelector(state => state.auth);\n  const [profile, setProfile] = useState();\n  const id = currentUser.id;\n\n  const handleUnblock = async blockedUserId => {\n    await axios.post(`http://localhost:3001/api/users/unblock/${id}/${blockedUserId}`);\n    const profileData = (await axios.get(`http://localhost:3001/api/users/blockedUsers/${id}`)).data;\n    setProfile(profileData);\n  };\n\n  useEffect(() => {\n    let mounted = true;\n\n    if (mounted) {\n      const getProfile = async () => {\n        const profileData = (await axios.get(`http://localhost:3001/api/users/blockedUsers/${id}`)).data;\n        setProfile(profileData);\n      };\n\n      getProfile();\n    }\n\n    return () => {\n      mounted = false;\n    };\n  }, []);\n  if (!profile) return null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    color: \"secondary\",\n    variant: \"h6\",\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Blocked Users\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.demo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, profile.map(user => /*#__PURE__*/React.createElement(ListItem, {\n    key: user.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(BlockIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: user.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(ListItemSecondaryAction, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"end\",\n    \"aria-label\": \"unblock\",\n    onClick: () => handleUnblock(user.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 23\n    }\n  })))))))));\n};\n\nexport default Blocked;","map":{"version":3,"sources":["/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/client/src/components/MainPage/Profile/Blocked/Blocked.js"],"names":["React","useEffect","useState","useSelector","axios","makeStyles","List","ListItem","ListItemAvatar","ListItemSecondaryAction","ListItemText","Avatar","IconButton","Grid","Typography","BlockIcon","DeleteIcon","useStyles","theme","root","flexGrow","maxWidth","title","margin","spacing","Blocked","classes","user","currentUser","state","auth","profile","setProfile","id","handleUnblock","blockedUserId","post","profileData","get","data","mounted","getProfile","demo","map","username"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport BlockIcon from '@material-ui/icons/Block';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    maxWidth: 752,\n  },\n  title: {\n    margin: theme.spacing(4, 0, 2),\n  },\n}));\n\nconst Blocked = () => {\n  const classes = useStyles();\n  const { user: currentUser } = useSelector((state) => state.auth);\n  const [profile, setProfile] = useState()\n  const id = currentUser.id;\n\n  const handleUnblock = async (blockedUserId) => {\n    await axios.post(`http://localhost:3001/api/users/unblock/${id}/${blockedUserId}`)\n    const profileData = (await axios.get(`http://localhost:3001/api/users/blockedUsers/${id}`)).data\n    setProfile(profileData)\n  }\n\n  useEffect(() => {\n    let mounted = true\n    if(mounted){\n      const getProfile = async () => {\n        const profileData = (await axios.get(`http://localhost:3001/api/users/blockedUsers/${id}`)).data\n        setProfile(profileData)\n      }\n      getProfile();\n    }\n    return () => {\n      mounted = false \n     }\n  }, [])\n\n  if (!profile)\n    return null;\n\n  return (\n    <div className={classes.root}>\n        <Grid item xs={12} md={12}>\n          <Typography color=\"secondary\" variant=\"h6\" className={classes.title}>\n           Blocked Users\n          </Typography>\n          <div className={classes.demo}>\n            <List>\n              {profile.map((user) => (\n                <ListItem  key={user.id}>\n                  <ListItemAvatar>\n                    <Avatar>\n                      <BlockIcon />\n                    </Avatar>\n                  </ListItemAvatar>\n                  <ListItemText\n                    primary={user.username}\n                  />\n                  <ListItemSecondaryAction>      \n                    <IconButton \n                    edge=\"end\" \n                    aria-label=\"unblock\"\n                    onClick={() => handleUnblock(user.id)}\n                    >\n                      <DeleteIcon      \n                      color='secondary' />\n                    </IconButton>\n                  </ListItemSecondaryAction>\n                </ListItem>\n              ))}\n            </List>\n          </div>\n        </Grid>\n    </div>\n  );\n}\n\nexport default Blocked;"]},"metadata":{},"sourceType":"module"}
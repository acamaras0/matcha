{"ast":null,"code":"var _jsxFileName = \"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ProfileRandom.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../context/UserContext\";\nimport jwt_decode from \"jwt-decode\";\nimport axios from \"axios\";\nimport useGetDistance from \"../utils/useGetDistance\";\nimport StarRating from \"../models/StarRating\";\nimport Gallery from \"../models/Gallery\";\nimport { useCookies } from \"react-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfileRandom = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const {\n    selectedUser,\n    setSelectedUser\n  } = useContext(UserContext);\n  const [token, setToken] = useState(\"\");\n  const [expire, setExpire] = useState(\"\");\n  const [pics, setPics] = useState([]);\n  const history = useHistory();\n  const distance = useGetDistance();\n  const [cookie, setCookie] = useCookies([\"refreshToken\"]);\n  useEffect(() => {\n    // refreshToken();\n    getPicPath();\n\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/users/${id}`);\n        setSelectedUser(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    fetchData();\n  }, []); // const refreshToken = async () => {\n  //   try {\n  //     const response = await axios.get(\"http://localhost:5000/token\");\n  //     setToken(response.data.accessToken);\n  //     const decoded = jwt_decode(response.data.accessToken);\n  //     setExpire(decoded.exp);\n  //   } catch (error) {\n  //     if (error.response) {\n  //       history.push(\"/\");\n  //     }\n  //   }\n  // };\n\n  const getPicPath = async () => {\n    const response = await axios.get(`http://localhost:5000/user/pictures/${id}`, {});\n    setPics(response.data);\n  };\n\n  var location = { ...distance\n  };\n\n  if (location[id - 1]) {\n    var getDistance = location[id - 1].distance / 1000;\n  }\n\n  if (!cookie.refreshToken) if (!selectedUser) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center\",\n          children: [selectedUser.firstname, \" \", selectedUser.lastname]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StarRating, {\n          rating: 5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-profile\",\n          children: [/*#__PURE__*/_jsxDEV(Gallery, {\n            galleryImages: pics\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: selectedUser.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: [getDistance, \" km away\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Age\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: selectedUser.birthdate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Bio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: selectedUser.bio\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Gender\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: selectedUser.gender\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Interests\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: selectedUser.interests\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(ProfileRandom, \"xJzVD4DWc46xflc4o3Fjabzr+8w=\", false, function () {\n  return [useParams, useHistory, useGetDistance, useCookies];\n});\n\n_c = ProfileRandom;\nexport default ProfileRandom;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileRandom\");","map":{"version":3,"sources":["/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ProfileRandom.js"],"names":["React","useContext","useEffect","useState","useParams","useHistory","UserContext","jwt_decode","axios","useGetDistance","StarRating","Gallery","useCookies","ProfileRandom","id","selectedUser","setSelectedUser","token","setToken","expire","setExpire","pics","setPics","history","distance","cookie","setCookie","getPicPath","fetchData","response","get","data","error","console","log","location","getDistance","refreshToken","firstname","lastname","username","birthdate","bio","gender","interests"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../context/UserContext\";\nimport jwt_decode from \"jwt-decode\";\nimport axios from \"axios\";\nimport useGetDistance from \"../utils/useGetDistance\";\nimport StarRating from \"../models/StarRating\";\nimport Gallery from \"../models/Gallery\";\nimport { useCookies } from \"react-cookie\";\n\nconst ProfileRandom = () => {\n  const { id } = useParams();\n  const { selectedUser, setSelectedUser } = useContext(UserContext);\n  const [token, setToken] = useState(\"\");\n  const [expire, setExpire] = useState(\"\");\n  const [pics, setPics] = useState([]);\n  const history = useHistory();\n  const distance = useGetDistance();\n  const [cookie, setCookie] = useCookies([\"refreshToken\"]);\n\n  useEffect(() => {\n    // refreshToken();\n    getPicPath();\n\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/users/${id}`);\n        setSelectedUser(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // const refreshToken = async () => {\n  //   try {\n  //     const response = await axios.get(\"http://localhost:5000/token\");\n  //     setToken(response.data.accessToken);\n  //     const decoded = jwt_decode(response.data.accessToken);\n  //     setExpire(decoded.exp);\n  //   } catch (error) {\n  //     if (error.response) {\n  //       history.push(\"/\");\n  //     }\n  //   }\n  // };\n\n  const getPicPath = async () => {\n    const response = await axios.get(\n      `http://localhost:5000/user/pictures/${id}`,\n      {}\n    );\n    setPics(response.data);\n  };\n\n  var location = { ...distance };\n  if (location[id - 1]) {\n    var getDistance = location[id - 1].distance / 1000;\n  }\n\n  if (!cookie.refreshToken) \n\n  if (!selectedUser) {\n    return <div>Loading...</div>;\n  } else {\n    return (\n      <div>\n        <div className=\"text-center\">\n          <h2 className=\"text-center\">\n            {selectedUser.firstname} {selectedUser.lastname}\n          </h2>\n          <StarRating rating={5} />\n          <div className=\"card-profile\">\n            <Gallery galleryImages={pics} />\n            <div className=\"card-body\">\n              <h5 className=\"card-title\">{selectedUser.username}</h5>\n              <p className=\"card-text\">{getDistance} km away</p>\n              <label>Age</label>\n              <p className=\"card-text\">{selectedUser.birthdate}</p>\n              <label>Bio</label>\n              <p className=\"card-text\">{selectedUser.bio}</p>\n              <label>Gender</label>\n              <p className=\"card-text\">{selectedUser.gender}</p>\n              <label>Interests</label>\n              <p className=\"card-text\">{selectedUser.interests}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default ProfileRandom;\n"]},"metadata":{},"sourceType":"module"}
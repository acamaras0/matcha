{"ast":null,"code":"var _jsxFileName = \"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/client/src/pages/Login.js\";\nimport React, { useEffect, useState } from \"react\";\nimport './App.css';\nimport Axios from \"axios\";\nexport default function Login() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoggedin, setIsLoggedin] = useState(false); //const [loginStatus, setLoginStatus] = useState(\"\");\n  // const [message, setMessage] = useState(\"\");\n\n  const login = e => {\n    e.preventDefault();\n    const userData = {\n      username,\n      password\n    };\n    localStorage.setItem('token-info', JSON.stringify(userData));\n    setIsLoggedin(true);\n    setUsername('');\n    setPassword('');\n  };\n\n  const logout = () => {\n    localStorage.removeItem('token-info');\n    setIsLoggedin(false);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, \"This is React WebApp \"), !isLoggedin ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: e => setUsername(e.target.value),\n    value: username,\n    placeholder: \"Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    onChange: e => setPassword(e.target.value),\n    value: password,\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, \"GO\"))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"User is logged in\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClickCapture: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"logout user\"))));\n} // import React, { useEffect, useState } from \"react\";\n// import Axios from \"axios\";\n// import \"../App.css\";\n// export default function Login() {\n//   const [username, setUsername] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [loginStatus, setLoginStatus] = useState(\"\");\n//   const [message, setMessage] = useState(\"\");\n//   Axios.defaults.withCredentials = true;\n//   const login = (e) => {\n//     e.preventDefault();\n//     Axios.post(\"http://localhost:3001/login\", {\n//       username: username,\n//       password: password,\n//     }).then((response) => {\n//       if (response.data.error) {\n//         setMessage(response.data.error);\n//       } else {\n//         setLoginStatus(response.data[0].username);\n//       }\n//     });\n//   };\n//   useEffect(() => {\n//     Axios.get(\"http://localhost:3001/login\").then((response) => {\n//       if (response.data.loggedIn === true) {\n//         setLoginStatus(response.data.user[0].username);\n//         console.log('this is response data',response.data.user[0].username);\n//       }\n//     });\n//   }, []);\n//   return (\n//     <div className=\"Auth-form-container\">\n//       <form className=\"Auth-form\" onSubmit={login}>\n//       <h1>{loginStatus}</h1>\n//         <div className=\"Auth-form-content\">\n//           <h3 className=\"Auth-form-title\">Sign in</h3>\n//           <p className=\"forgot-password text-right mt-2\">\n//           Are you new around here?\n//         </p>\n//           <a href=\"http://localhost:3000/registration\">Create an account!</a>\n//           <div className=\"form-group mt-3\">\n//             <input\n//               className=\"form-control mt-1\"\n//               type=\"text\"\n//               placeholder=\"Username...\"\n//               onChange={(e) => {\n//                 setUsername(e.target.value);\n//               }}\n//             />\n//           </div>\n//           <br />\n//           <div className=\"form-group mt-3\">\n//             <input\n//               className=\"form-control mt-1\"\n//               type=\"password\"\n//               placeholder=\"Password...\"\n//               onChange={(e) => {\n//                 setPassword(e.target.value);\n//               }}\n//             />\n//           </div>\n//           <br />\n//           <button className=\"btn btn-primary\"> Login </button>\n//         </div><br/>\n//         <p className=\"error\">{message}</p>\n//         <p className=\"forgot-password text-right mt-2\">\n//           Forgot\n//           <a href=\"http://localhost:3000/forgotpassword\"> password?</a>\n//         </p>\n//       </form>\n//     </div>\n//   );\n// }","map":{"version":3,"sources":["/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/client/src/pages/Login.js"],"names":["React","useEffect","useState","Axios","Login","username","setUsername","password","setPassword","isLoggedin","setIsLoggedin","login","e","preventDefault","userData","localStorage","setItem","JSON","stringify","logout","removeItem","textAlign","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport './App.css';\nimport Axios from \"axios\";\n \nexport default function Login() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoggedin, setIsLoggedin] = useState(false);\n  //const [loginStatus, setLoginStatus] = useState(\"\");\n  // const [message, setMessage] = useState(\"\");\n \n  const login = (e) => {\n    e.preventDefault();\n    const userData = {\n      username,\n      password,\n    };\n    localStorage.setItem('token-info', JSON.stringify(userData));\n    setIsLoggedin(true);\n    setUsername('');\n    setPassword('');\n  };\n \n  const logout = () => {\n    localStorage.removeItem('token-info');\n    setIsLoggedin(false);\n  };\n \n  return (\n    <>\n      <div style={{ textAlign: 'center' }}>\n        <h1>This is React WebApp </h1>\n        {!isLoggedin ? (\n          <>\n            <form action=\"\">\n              <input\n                type=\"text\"\n                onChange={(e) => setUsername(e.target.value)}\n                value={username}\n                placeholder=\"Name\"\n              />\n              <input\n                type=\"password\"\n                onChange={(e) => setPassword(e.target.value)}\n                value={password}\n                placeholder=\"Password\"\n              />\n              <button type=\"submit\" onClick={login}>\n                GO\n              </button>\n            </form>\n          </>\n        ) : (\n          <>\n            <h1>User is logged in</h1>\n            <button onClickCapture={logout}>logout user</button>\n          </>\n        )}\n      </div>\n    </>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { useEffect, useState } from \"react\";\n// import Axios from \"axios\";\n// import \"../App.css\";\n\n// export default function Login() {\n//   const [username, setUsername] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [loginStatus, setLoginStatus] = useState(\"\");\n//   const [message, setMessage] = useState(\"\");\n\n//   Axios.defaults.withCredentials = true;\n\n//   const login = (e) => {\n//     e.preventDefault();\n//     Axios.post(\"http://localhost:3001/login\", {\n//       username: username,\n//       password: password,\n//     }).then((response) => {\n//       if (response.data.error) {\n//         setMessage(response.data.error);\n//       } else {\n//         setLoginStatus(response.data[0].username);\n//       }\n//     });\n//   };\n//   useEffect(() => {\n//     Axios.get(\"http://localhost:3001/login\").then((response) => {\n//       if (response.data.loggedIn === true) {\n//         setLoginStatus(response.data.user[0].username);\n//         console.log('this is response data',response.data.user[0].username);\n//       }\n//     });\n//   }, []);\n\n//   return (\n//     <div className=\"Auth-form-container\">\n//       <form className=\"Auth-form\" onSubmit={login}>\n//       <h1>{loginStatus}</h1>\n//         <div className=\"Auth-form-content\">\n//           <h3 className=\"Auth-form-title\">Sign in</h3>\n//           <p className=\"forgot-password text-right mt-2\">\n//           Are you new around here?\n//         </p>\n//           <a href=\"http://localhost:3000/registration\">Create an account!</a>\n//           <div className=\"form-group mt-3\">\n//             <input\n//               className=\"form-control mt-1\"\n//               type=\"text\"\n//               placeholder=\"Username...\"\n//               onChange={(e) => {\n//                 setUsername(e.target.value);\n//               }}\n//             />\n//           </div>\n//           <br />\n//           <div className=\"form-group mt-3\">\n//             <input\n//               className=\"form-control mt-1\"\n//               type=\"password\"\n//               placeholder=\"Password...\"\n//               onChange={(e) => {\n//                 setPassword(e.target.value);\n//               }}\n//             />\n//           </div>\n//           <br />\n//           <button className=\"btn btn-primary\"> Login </button>\n//         </div><br/>\n//         <p className=\"error\">{message}</p>\n//         <p className=\"forgot-password text-right mt-2\">\n//           Forgot\n//           <a href=\"http://localhost:3000/forgotpassword\"> password?</a>\n//         </p>\n//       </form>\n//     </div>\n//   );\n// }\n"]},"metadata":{},"sourceType":"module"}
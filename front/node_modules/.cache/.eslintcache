[{"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/index.js":"1","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/App.js":"2","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Register.js":"3","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Navbar.js":"4","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Dashboard.js":"5","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ProfileForm.js":"6","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Login.js":"7","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ForgotPassword.js":"8","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Gender.js":"9","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Tags.js":"10","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Orientation.js":"11","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Cities.js":"12","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/PicturesForm.js":"13","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/context/UserContext.js":"14","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Profile.js":"15","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/StarRating.js":"16","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Age.js":"17","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ProfileRandom.js":"18","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Footer.js":"19","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ResetPassword.js":"20","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Activation.js":"21","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/utils/useGeoLocation.js":"22","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/utils/useGetDistance.js":"23","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Gallery.js":"24","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/PopUp.js":"25","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Chat.js":"26","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Conversations.js":"27","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Message.js":"28"},{"size":404,"mtime":1660736771521,"results":"29","hashOfConfig":"30"},{"size":3347,"mtime":1663840391978,"results":"31","hashOfConfig":"30"},{"size":4167,"mtime":1663697443234,"results":"32","hashOfConfig":"30"},{"size":5576,"mtime":1663773712244,"results":"33","hashOfConfig":"30"},{"size":4451,"mtime":1663786216321,"results":"34","hashOfConfig":"30"},{"size":3338,"mtime":1663746400080,"results":"35","hashOfConfig":"30"},{"size":3875,"mtime":1663841922724,"results":"36","hashOfConfig":"30"},{"size":1886,"mtime":1663589627436,"results":"37","hashOfConfig":"30"},{"size":581,"mtime":1663254577662,"results":"38","hashOfConfig":"30"},{"size":932,"mtime":1662552214870,"results":"39","hashOfConfig":"30"},{"size":627,"mtime":1660047843084,"results":"40","hashOfConfig":"30"},{"size":1127,"mtime":1661156120045,"results":"41","hashOfConfig":"30"},{"size":1601,"mtime":1662363394562,"results":"42","hashOfConfig":"30"},{"size":717,"mtime":1663784685802,"results":"43","hashOfConfig":"30"},{"size":9626,"mtime":1663781262352,"results":"44","hashOfConfig":"30"},{"size":547,"mtime":1662719978857,"results":"45","hashOfConfig":"30"},{"size":3139,"mtime":1661154050171,"results":"46","hashOfConfig":"30"},{"size":6472,"mtime":1663784836875,"results":"47","hashOfConfig":"30"},{"size":244,"mtime":1661177714293,"results":"48","hashOfConfig":"30"},{"size":2409,"mtime":1663683659527,"results":"49","hashOfConfig":"30"},{"size":1343,"mtime":1663689099001,"results":"50","hashOfConfig":"30"},{"size":1565,"mtime":1663760480292,"results":"51","hashOfConfig":"30"},{"size":1326,"mtime":1663761128859,"results":"52","hashOfConfig":"30"},{"size":1972,"mtime":1662034274337,"results":"53","hashOfConfig":"30"},{"size":299,"mtime":1663067554382,"results":"54","hashOfConfig":"30"},{"size":4282,"mtime":1663670444231,"results":"55","hashOfConfig":"30"},{"size":1017,"mtime":1663669484364,"results":"56","hashOfConfig":"30"},{"size":387,"mtime":1663327704080,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"18gktxc",{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"60"},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"60"},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"110","messages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"113","messages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"115","messages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"117","messages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/index.js",[],["119","120"],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/App.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Register.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Navbar.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Dashboard.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ProfileForm.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Login.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ForgotPassword.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Gender.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Tags.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Orientation.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Cities.js",[],["121","122"],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/PicturesForm.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/context/UserContext.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Profile.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/StarRating.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Age.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ProfileRandom.js",["123","124","125"],"// /* eslint-disable */\nimport useGetDistance from \"../utils/useGetDistance\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../context/UserContext\";\nimport axios from \"axios\";\nimport StarRating from \"../models/StarRating\";\nimport Gallery from \"../models/Gallery\";\nimport { useCookies } from \"react-cookie\";\nimport img from \"../assets/yellow-heart.png\";\nimport img1 from \"../assets/broken-heart.png\";\n// import img2 from \"../assets/match.png\";\n\nconst ProfileRandom = ({ socket }) => {\n  const { id } = useParams();\n  const { selectedUser, setSelectedUser } = useContext(UserContext);\n  const { user, setUser } = useContext(UserContext);\n  const [pics, setPics] = useState([]);\n  const [likes, setLikes] = useState(\"\");\n  const [loggedIn, setLoggedIn] = useState(\"\");\n  const [liked, setLiked] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [sender, setSender] = useState(\"\");\n  const [senderId, setSenderId] = useState(\"\");\n  const history = useHistory();\n  const distance = useGetDistance();\n  const [cookie, setCookie] = useCookies([\"refreshToken\"]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/users/${id}`);\n        setSelectedUser(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchData();\n\n    const getPicPath = async () => {\n      const response = await axios.get(\n        `http://localhost:5000/user/pictures/${id}`,\n        {}\n      );\n      setPics(response.data);\n    };\n    getPicPath();\n\n    const getLoggedIn = async () => {\n      const response = await axios.get(\n        `http://localhost:5000/user/${cookie.refreshToken}`,\n        {}\n      );\n      setLoggedIn(response.data.id);\n      setSender(response.data.username);\n      setSenderId(response.data.id);\n    };\n    getLoggedIn();\n\n    const count = async () => {\n      try {\n        const response = await axios.get(\n          `http://localhost:5000/user/fame/${id}`\n        );\n        setLikes(response.data.fame);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    count();\n\n    const checkIfLiked = async () => {\n      if (loggedIn !== \"\") {\n        try {\n          const response = await axios.get(\n            `http://localhost:5000/liked/${id}/${loggedIn}`\n          );\n          console.log(\"like\", response.data.msg);\n          setLiked(response.data.msg);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    };\n    checkIfLiked();\n  }, [id, setSelectedUser, setLikes, cookie.refreshToken, loggedIn]);\n\n  const block = async (id) => {\n    try {\n      await axios.post(`http://localhost:5000/block/${loggedIn}/${id}`, {});\n      history.push(\"/dashboard\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleLike = async (id) => {\n    try {\n      const response = await axios.post(\n        `http://localhost:5000/like/${loggedIn}/${id}`,\n        {}\n      );\n      setMessage(response.data.msg);\n    } catch (error) {\n      if (error.response) {\n        console.log(\"error\", error.response.data);\n      }\n    }\n    socket.emit(\"sendNotification\", {\n      senderName: sender,\n      senderId: senderId,\n      receiverName: id,\n      type: \"like\",\n    });\n  };\n\n  const handleDislike = async (id) => {\n    try {\n      const response = await axios.post(\n        `http://localhost:5000/like/${loggedIn}/${id}`,\n        {}\n      );\n      setMessage(response.data.msg);\n    } catch (error) {\n      if (error.response) {\n        console.log(\"error\", error.response.data);\n      }\n    }\n    socket.emit(\"sendNotification\", {\n      senderName: sender,\n      senderId: senderId,\n      receiverName: id,\n      type: \"unlike\",\n    });\n  };\n\n  if (!cookie.refreshToken) {\n    history.push(\"/\");\n  }\n  if (!selectedUser && !distance) {\n    return <div>Loading...</div>;\n  } else {\n    return (\n      <div>\n        <div className=\"text-center\">\n          <h2 className=\"text-center\">\n            {selectedUser.firstname} {selectedUser.lastname}\n          </h2>\n          <p className=\"card-text\">{selectedUser.username}</p>\n          <p className=\"text-center\">\n            About {distance && Math.round(distance[0]?.distance / 1000)} km away\n          </p>\n          <StarRating rating={likes} />\n          <div className=\"card-img\">\n            <Gallery galleryImages={pics} />\n          </div>\n          <div style={{ margin: \"10%\" }}>\n            <div className=\"card\">\n              <div className=\"heart-container\">\n                {liked && liked === \"dislike\" ? (\n                  <div className=\"like-container\">\n                    <img\n                      onClick={() => handleLike(selectedUser.id)}\n                      className=\"like\"\n                      src={img}\n                      alt=\"Card cap\"\n                    />\n                    <div>\n                      <p className=\"card-text\">{message}</p>\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"dislike-container\">\n                    <img\n                      onClick={() => handleDislike(selectedUser.id)}\n                      className=\"dislike\"\n                      src={img1}\n                      alt=\"Card cap\"\n                    />\n                    <div>\n                      <p className=\"card-text\">{message}</p>\n                    </div>\n                  </div>\n                )}\n              </div>{\" \"}\n              <div className=\"card-body\">\n                <label>Age</label>\n                <p className=\"card-text\">{selectedUser.birthdate}</p>\n                <label>Bio</label>\n                <p className=\"card-text\">{selectedUser.bio}</p>\n                <label>Gender</label>\n                <p className=\"card-text\">{selectedUser.gender}</p>\n                <label>Sexual Orientation</label>\n                <p className=\"card-text\">{selectedUser.orientation}</p>\n                <label>Interests</label>\n                <p className=\"card-text\">{selectedUser.interests}</p>\n              </div>\n            </div>{\" \"}\n            <br />\n            <button\n              onClick={() => block(selectedUser.id)}\n              className=\"btn btn-danger\"\n            >\n              Block\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default ProfileRandom;\n","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Footer.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/ResetPassword.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Activation.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/utils/useGeoLocation.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/utils/useGetDistance.js",["126"],"// /* eslint-disable */\nimport { useEffect, useState } from \"react\";\nimport { getDistance } from \"geolib\";\nimport { useCookies } from \"react-cookie\";\nimport axios from \"axios\";\nimport useGeoLocation from \"./useGeoLocation\";\n\nconst useGetDistance = () => {\n  const location = useGeoLocation();\n  const [matchLocation, setMatchLocation] = useState([]);\n  const [cookie, setCookie] = useCookies([\"refreshToken\"]);\n\n  useEffect(() => {\n    const getCoordinates = async () => {\n      try {\n        const response = await axios.get(\n          `http://localhost:5000/users/info/${cookie.refreshToken}`\n        );\n        setMatchLocation(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getCoordinates();\n  }, [cookie.refreshToken]);\n\n  if (!location.error) {\n    if (location.coordinates.lat && location.coordinates.lng) {\n      for (let i = 0; i < matchLocation.length; i++) {\n        const distance = getDistance(\n          {\n            latitude: location.coordinates.lat,\n            longitude: location.coordinates.lng,\n          },\n          {\n            latitude: matchLocation[i].geo_lat,\n            longitude: matchLocation[i].geo_long,\n          }\n        );\n        matchLocation[i].distance = distance;\n      }\n    }\n  }\n  return matchLocation;\n};\n\nexport default useGetDistance;\n","/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Gallery.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/PopUp.js",[],["127","128"],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/components/Chat.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Conversations.js",[],"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/front/src/models/Message.js",[],{"ruleId":"129","replacedBy":"130"},{"ruleId":"131","replacedBy":"132"},{"ruleId":"129","replacedBy":"133"},{"ruleId":"131","replacedBy":"134"},{"ruleId":"135","severity":1,"message":"136","line":17,"column":11,"nodeType":"137","messageId":"138","endLine":17,"endColumn":15},{"ruleId":"135","severity":1,"message":"139","line":17,"column":17,"nodeType":"137","messageId":"138","endLine":17,"endColumn":24},{"ruleId":"135","severity":1,"message":"140","line":27,"column":18,"nodeType":"137","messageId":"138","endLine":27,"endColumn":27},{"ruleId":"135","severity":1,"message":"140","line":11,"column":18,"nodeType":"137","messageId":"138","endLine":11,"endColumn":27},{"ruleId":"129","replacedBy":"141"},{"ruleId":"131","replacedBy":"142"},"no-native-reassign",["143"],"no-negated-in-lhs",["144"],["143"],["144"],"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","'setUser' is assigned a value but never used.","'setCookie' is assigned a value but never used.",["143"],["144"],"no-global-assign","no-unsafe-negation"]
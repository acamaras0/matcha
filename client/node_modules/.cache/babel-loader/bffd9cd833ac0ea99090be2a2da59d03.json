{"ast":null,"code":"var _jsxFileName = \"/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/client/src/components/MainPage/Notification/Notification.js\";\nimport React, { useEffect, useState } from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport Typography from '@material-ui/core/Typography';\nimport MessageIcon from '@material-ui/icons/Message';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Footer from '../Footer/Footer';\nimport axios from 'axios';\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { ThumbDown, Visibility } from \"@material-ui/icons\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper\n  },\n  divider: {\n    marginTop: '3rem'\n  }\n}));\n\nconst NotificationEntry = ({\n  notification\n}) => {\n  const string = `You have a new ${notification.event} from ${notification.username}!`;\n\n  switch (notification.event) {\n    case 'message':\n      return /*#__PURE__*/React.createElement(ListItem, {\n        button: true,\n        component: Link,\n        to: \"/messenger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(ListItemIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(MessageIcon, {\n        color: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(ListItemText, {\n        primary: string,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }\n      }));\n\n    case 'like':\n      return /*#__PURE__*/React.createElement(ListItem, {\n        button: true,\n        component: Link,\n        to: `/user-profile/${notification.added_by}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(ListItemIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ThumbUpIcon, {\n        color: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(ListItemText, {\n        primary: string,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }));\n\n    case 'match':\n      return /*#__PURE__*/React.createElement(ListItem, {\n        button: true,\n        component: Link,\n        to: `/user-profile/${notification.added_by}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(ListItemIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FavoriteIcon, {\n        color: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(ListItemText, {\n        primary: string,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      }));\n\n    case 'visit':\n      return /*#__PURE__*/React.createElement(ListItem, {\n        button: true,\n        component: Link,\n        to: `/user-profile/${notification.added_by}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(ListItemIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Visibility, {\n        color: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(ListItemText, {\n        primary: string,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }));\n\n    case 'unlike':\n      return /*#__PURE__*/React.createElement(ListItem, {\n        button: true,\n        component: Link,\n        to: `/user-profile/${notification.added_by}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(ListItemIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ThumbDown, {\n        color: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(ListItemText, {\n        primary: string,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }));\n  }\n};\n\nexport default function Notification() {\n  const classes = useStyles();\n  const [notifications, setNotifications] = useState([]);\n  const {\n    user\n  } = useSelector(state => state.auth);\n  useEffect(() => {\n    const source = axios.CancelToken.source();\n\n    const getNotifications = async () => {\n      try {\n        setNotifications((await axios.get(`http://localhost:3001/api/users/${user.id}/notifications`, {\n          cancelToken: source.token\n        })).data);\n      } catch (cancel) {}\n    };\n\n    if (user.id) {\n      getNotifications();\n    }\n\n    return () => {\n      source.cancel();\n    };\n  }, [user]);\n  if (!user) return null;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, \"Your Notifications\"), notifications.map(notification => /*#__PURE__*/React.createElement(NotificationEntry, {\n    key: notification.id,\n    notification: notification,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 56\n    }\n  })))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/opt/lampstack-8.1.7-0/apache2/htdocs/matcha-2.0/client/src/components/MainPage/Notification/Notification.js"],"names":["React","useEffect","useState","ListItem","ListItemIcon","ListItemText","FavoriteIcon","Typography","MessageIcon","ThumbUpIcon","ThumbDownIcon","makeStyles","Container","Footer","axios","useSelector","Link","ThumbDown","Visibility","useStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","divider","marginTop","NotificationEntry","notification","string","event","username","added_by","Notification","classes","notifications","setNotifications","user","state","auth","source","CancelToken","getNotifications","get","id","cancelToken","token","data","cancel","map"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport Typography from '@material-ui/core/Typography';\nimport MessageIcon from '@material-ui/icons/Message';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown'\nimport {makeStyles} from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Footer from '../Footer/Footer';\n\nimport axios from 'axios';\nimport {useSelector} from \"react-redux\";\nimport {Link} from \"react-router-dom\";\nimport {ThumbDown, Visibility} from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n    divider: {\n        marginTop: '3rem',\n    }\n}));\n\nconst NotificationEntry = ({notification}) => {\n    const string = `You have a new ${notification.event} from ${notification.username}!`\n    switch (notification.event) {\n        case 'message':\n            return <ListItem button component={Link} to=\"/messenger\">\n                <ListItemIcon>\n                    <MessageIcon color='secondary'/>\n                </ListItemIcon>\n                <ListItemText primary={string}/>\n            </ListItem>\n\n        case 'like':\n            return <ListItem button component={Link} to={`/user-profile/${notification.added_by}`}>\n                <ListItemIcon>\n                    <ThumbUpIcon color='secondary'/>\n                </ListItemIcon>\n                <ListItemText primary={string}/>\n            </ListItem>\n        case 'match':\n            return <ListItem button component={Link} to={`/user-profile/${notification.added_by}`}>\n                <ListItemIcon>\n                    <FavoriteIcon color='secondary'/>\n                </ListItemIcon>\n                <ListItemText primary={string}/>\n            </ListItem>\n        case 'visit':\n            return <ListItem button component={Link} to={`/user-profile/${notification.added_by}`}>\n                <ListItemIcon>\n                    <Visibility color='secondary'/>\n                </ListItemIcon>\n                <ListItemText primary={string}/>\n            </ListItem>\n        case 'unlike':\n            return <ListItem button component={Link} to={`/user-profile/${notification.added_by}`}>\n                <ListItemIcon>\n                    <ThumbDown color='secondary'/>\n                </ListItemIcon>\n                <ListItemText primary={string}/>\n            </ListItem>\n    }\n}\n\nexport default function Notification() {\n    const classes = useStyles();\n\n    const [notifications, setNotifications] = useState([])\n    const {user} = useSelector(state => state.auth)\n\n    useEffect(() => {\n        const source = axios.CancelToken.source();\n\n        const getNotifications = async () => {\n            try {\n                setNotifications((await axios.get(`http://localhost:3001/api/users/${user.id}/notifications`, {\n                    cancelToken: source.token\n                })).data)\n            } catch (cancel) {}\n        }\n        if (user.id) {\n            getNotifications()\n        }\n        return () => {\n            source.cancel();\n        };\n\n    }, [user])\n\n    if (!user) return null;\n    return (\n        <>\n            <Container component=\"main\" maxWidth=\"xs\" className={classes.divider}>\n                <div className={classes.root}>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Your Notifications\n                    </Typography>\n                    {notifications.map(notification => <NotificationEntry key={notification.id}\n                                                                          notification={notification}/>)}\n                </div>\n            </Container>\n            <Footer/>\n        </>\n    );\n}"]},"metadata":{},"sourceType":"module"}